---
import type { CollectionEntry } from 'astro:content';
import Head from '../components/Head.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.vue';
import WalineComment from '../components/comments/WalineComment.vue';
import { config_site } from '../utils/config-adapter';
import '../styles/global.styl';
import '../styles/blog.styl';
import '../styles/layouts/AboutPage.styl';

interface Props {
    title?: string;
    description?: string;
    noindex?: boolean;
}

const { title = '关于', description = '关于我', noindex } = Astro.props;

// 页面标题
const pageTitle = `${title} | ${config_site.title}`;
---

<!DOCTYPE html>
<html lang={config_site.lang} class="dark">  <Head 
    title={title}
    titleTemplate={config_site.titleTemplate}
    description={description || title}
    author={config_site.author}
    url={config_site.url + '/about/'}
    canonical={config_site.url + '/about/'}
    noindex={noindex}
    openGraph={config_site.openGraph ? {
      ...config_site.openGraph,
      basic: {
        ...config_site.openGraph.basic,
        title: title,
        url: config_site.url + '/about/'
      },
      optional: {
        ...config_site.openGraph?.optional,
        description: description || title
      }
    } : undefined}
    twitter={config_site.twitter ? {
      ...config_site.twitter,
      title: title,
      description: description || title
    } : undefined}
    structuredData={{
      "@context": "https://schema.org",
      "@type": "AboutPage",
      "name": title,
      "description": description || title,
      "url": config_site.url + '/about/'
    }}
  />
  <body>
    <script>
      import '../scripts/background.ts';
    </script>
    <Header />
    <main class="about-container">
      <div class="about-header">
        <h1 class="about-title">{title}</h1>
      <div class="about-content">
        <slot />
      </div>
      <WalineComment client:idle/>
    </main>
    <Footer />
  </body>
</html>